<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vue中的自定义指令</title>
    <style>
        .header {
            position: absolute;
        }
    </style>
    <script src="https://unpkg.com/vue@next"></script>
</head>

<body>
    <div id="root"></div>
    <script>
        
        // const app = Vue.createApp({
        //     mounted(){
        //         this.$refs.input.focus()
        //     },
        //     template: `
        //         <div>
        //             <input ref="input"/>
        //         </div>
        //     `
        // })
        // 定义局部的自定义指令
        // const myDirectives = {
        //     focus: {
        //         mounted(el) {
        //             el.focus();
        //         }
        //     }
        // }
        // const app = Vue.createApp({
        //     directives: myDirectives,
        //     template: `
        //         <div>
        //             <input v-focus/>
        //         </div>
        //     `
        // })
        // 定义全局的自定义指令
        // app.directive('focus', {
        //     mounted(el) {
        //         el.focus();
        //     }
        // })

        // const vm = app.mount('#root')

        // const app = Vue.createApp({
        //     data() {
        //         return {
        //             top: 100
        //         }
        //     },
        //     template: `
        //         <div>
        //            <div v-pos="top" class="header">
        //               <input />
        //             </div>
        //         </div>
        //     `
        // })

        // app.directive('pos', {
        //     mounted(el, binding) {
        //         el.style.top = binding.value + "px"
        //     },
        //     updated(el, binding) {
        //         el.style.top = binding.value + "px"
        //     }
        // })
        // 简写
        // app.directive = (el, binding) => {
        //     el.style.top = binding.value + "px"
        // }

        const app = Vue.createApp({
            data() {
                return {
                    distance: 100
                }
            },
            template: `
                <div>
                   <div v-pos:left="distance" class="header">
                      <input />
                    </div>
                </div>
            `
        })
        // 简写
        app.directive('pos',(el, binding) => {
            console.log(binding);
            el.style[binding.arg] = binding.value + "px"
        })

        const vm = app.mount('#root')
    </script>
</body>

</html>